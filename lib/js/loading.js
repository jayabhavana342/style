"use strict";

function escape(unsafeText) {
  var safeText = $('<div />').text(unsafeText).text();
  return safeText;
}

TTAM.loading = {
  stop: function stop($element, callback) {
    var selectors = '.ttam-loading-box-wrapper, .ttam-loading-pill-wrapper, .ttam-button-loading-wrapper, .ttam-loading-skeleton-wrapper';
    var timing = 150;
    $element.find(selectors).fadeOut(timing, function () {
      $element.find(selectors).remove();
      $element.removeClass('ttam-loadingstate');

      if (typeof callback === 'function') {
        return callback();
      }

      return true;
    });
  },
  button: function button($el, text, style) {
    if (!$el) {
      throw new Error('no element passed in');
    }

    $el.addClass('ttam-loading-button');
    $el.each(function () {
      var $theButton = $(this);
      $theButton.click(function () {
        $theButton.addClass('ttam-loadingstate');

        if (style) {
          $theButton.addClass("mod-loading-".concat(style));
        }

        if (text) {
          var loadingContents = escape("<div class=\"ttam-button-loading-wrapper\"><div class=\"ttam-button-loading\"></div></div>".concat(text));
          $theButton.html(loadingContents);
        } else if ($theButton.find('.ttam-button-loading').length === 0) {
          var _loadingContents = escape('<div class="ttam-button-loading-wrapper"><div class="ttam-button-loading"></div></div>');

          $theButton.prepend(_loadingContents);
        }
      });
    });
    return true;
  },
  box: function box($el, text, style, position) {
    if (!$el) {
      throw new Error('no element passed in');
    }

    text = text || '';
    position = position ? "mod-box-".concat(position) : '';
    $el.each(function () {
      $(this).addClass('ttam-loading-box ttam-loadingstate');

      if ($(this).find('.ttam-loading-box-wrapper').length === 0) {
        var loadingContents = escape("<div class=\"ttam-loading-box-wrapper ".concat(position, "\"><div class=\"ttam-box-loading\"></div><span>").concat(text, "</span></div>"));

        if (style) {
          $(this).addClass("mod-loading-".concat(style));
        }

        $el.prepend(loadingContents);
      }
    });
    return true;
  },
  pill: function pill($el, text, style) {
    if (!$el) {
      throw new Error('no element passed in');
    }

    if (!text) {
      throw new Error('no text passed in');
    }

    $el.addClass('ttam-loading-pill ttam-loadingstate');

    if ($el.find('.ttam-loading-pill-wrapper').length === 0) {
      var loadingContents = escape("<div class=\"ttam-loading-pill-wrapper\"><div class=\"ttam-loading-pill-shape\"><div class=\"ttam-pill-loading\"></div><span>".concat(text, "</span></div></div>"));

      if (style) {
        $el.addClass("mod-loading-".concat(style));
      }

      $el.prepend(loadingContents);
    } else {
      return false;
    }

    return true;
  },
  skeleton: function skeleton($el) {
    if (!$el) {
      throw new Error('no element passed in');
    }

    $el.addClass('ttam-loading-skeleton ttam-loadingstate');

    if ($el.find('.ttam-loading-skeleton-wrapper').length === 0) {
      var contents = '<div class="ttam-loading-skeleton-wrapper"></div>';
      return $el.prepend(contents);
    }

    return true;
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvanMvbG9hZGluZy5qcyJdLCJuYW1lcyI6WyJlc2NhcGUiLCJ1bnNhZmVUZXh0Iiwic2FmZVRleHQiLCIkIiwidGV4dCIsIlRUQU0iLCJsb2FkaW5nIiwic3RvcCIsIiRlbGVtZW50IiwiY2FsbGJhY2siLCJzZWxlY3RvcnMiLCJ0aW1pbmciLCJmaW5kIiwiZmFkZU91dCIsInJlbW92ZSIsInJlbW92ZUNsYXNzIiwiYnV0dG9uIiwiJGVsIiwic3R5bGUiLCJFcnJvciIsImFkZENsYXNzIiwiZWFjaCIsIiR0aGVCdXR0b24iLCJjbGljayIsImxvYWRpbmdDb250ZW50cyIsImh0bWwiLCJsZW5ndGgiLCJwcmVwZW5kIiwiYm94IiwicG9zaXRpb24iLCJwaWxsIiwic2tlbGV0b24iLCJjb250ZW50cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxNQUFULENBQWdCQyxVQUFoQixFQUE0QjtBQUN4QixNQUFNQyxRQUFRLEdBQUdDLENBQUMsQ0FBQyxTQUFELENBQUQsQ0FBYUMsSUFBYixDQUFrQkgsVUFBbEIsRUFBOEJHLElBQTlCLEVBQWpCO0FBQ0EsU0FBT0YsUUFBUDtBQUNIOztBQUVERyxJQUFJLENBQUNDLE9BQUwsR0FBZTtBQUNYQyxFQUFBQSxJQUFJLEVBQUUsY0FBQ0MsUUFBRCxFQUFXQyxRQUFYLEVBQXdCO0FBQzFCLFFBQU1DLFNBQVMsR0FBRyxxSEFBbEI7QUFDQSxRQUFNQyxNQUFNLEdBQUcsR0FBZjtBQUNBSCxJQUFBQSxRQUFRLENBQUNJLElBQVQsQ0FBY0YsU0FBZCxFQUF5QkcsT0FBekIsQ0FBaUNGLE1BQWpDLEVBQXlDLFlBQU07QUFDM0NILE1BQUFBLFFBQVEsQ0FBQ0ksSUFBVCxDQUFjRixTQUFkLEVBQXlCSSxNQUF6QjtBQUNBTixNQUFBQSxRQUFRLENBQUNPLFdBQVQsQ0FBcUIsbUJBQXJCOztBQUNBLFVBQUksT0FBT04sUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNoQyxlQUFPQSxRQUFRLEVBQWY7QUFD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SWMsS0FBSixFQUFXO0FBQ1BELFFBQUFBLEdBQUcsQ0FBQ0csUUFBSix1QkFBNEJGLEtBQTVCO0FBQ0g7O0FBQ0RELE1BQUFBLEdBQUcsQ0FBQ1UsT0FBSixDQUFZSCxlQUFaO0FBQ0gsS0FORCxNQU1PO0FBQ0gsYUFBTyxLQUFQO0FBQ0g7O0FBQ0QsV0FBTyxJQUFQO0FBQ0gsR0ExRVU7QUEyRVhPLEVBQUFBLFFBQVEsRUFBRSxrQkFBQ2QsR0FBRCxFQUFTO0FBQ2YsUUFBSSxDQUFDQSxHQUFMLEVBQVU7QUFDTixZQUFNLElBQUlFLEtBQUosQ0FBVSxzQkFBVixDQUFOO0FBQ0g7O0FBRURGLElBQUFBLEdBQUcsQ0FBQ0csUUFBSixDQUFhLHlDQUFiOztBQUNBLFFBQUlILEdBQUcsQ0FBQ0wsSUFBSixDQUFTLGdDQUFULEVBQTJDYyxNQUEzQyxLQUFzRCxDQUExRCxFQUE2RDtBQUN6RCxVQUFNTSxRQUFRLEdBQUcsbURBQWpCO0FBQ0EsYUFBT2YsR0FBRyxDQUFDVSxPQUFKLENBQVlLLFFBQVosQ0FBUDtBQUNIOztBQUNELFdBQU8sSUFBUDtBQUNIO0FBdEZVLENBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlc2NhcGUodW5zYWZlVGV4dCkge1xuICAgIGNvbnN0IHNhZmVUZXh0ID0gJCgnPGRpdiAvPicpLnRleHQodW5zYWZlVGV4dCkudGV4dCgpO1xuICAgIHJldHVybiBzYWZlVGV4dDtcbn1cblxuVFRBTS5sb2FkaW5nID0ge1xuICAgIHN0b3A6ICgkZWxlbWVudCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gJy50dGFtLWxvYWRpbmctYm94LXdyYXBwZXIsIC50dGFtLWxvYWRpbmctcGlsbC13cmFwcGVyLCAudHRhbS1idXR0b24tbG9hZGluZy13cmFwcGVyLCAudHRhbS1sb2FkaW5nLXNrZWxldG9uLXdyYXBwZXInO1xuICAgICAgICBjb25zdCB0aW1pbmcgPSAxNTA7XG4gICAgICAgICRlbGVtZW50LmZpbmQoc2VsZWN0b3JzKS5mYWRlT3V0KHRpbWluZywgKCkgPT4ge1xuICAgICAgICAgICAgJGVsZW1lbnQuZmluZChzZWxlY3RvcnMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3R0YW0tbG9hZGluZ3N0YXRlJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBidXR0b246ICgkZWwsIHRleHQsIHN0eWxlKSA9PiB7XG4gICAgICAgIGlmICghJGVsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGVsZW1lbnQgcGFzc2VkIGluJyk7XG4gICAgICAgIH1cbiAgICAgICAgJGVsLmFkZENsYXNzKCd0dGFtLWxvYWRpbmctYnV0dG9uJyk7XG4gICAgICAgICRlbC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0ICR0aGVCdXR0b24gPSAkKHRoaXMpO1xuICAgICAgICAgICAgJHRoZUJ1dHRvbi5jbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHRoZUJ1dHRvbi5hZGRDbGFzcygndHRhbS1sb2FkaW5nc3RhdGUnKTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoZUJ1dHRvbi5hZGRDbGFzcyhgbW9kLWxvYWRpbmctJHtzdHlsZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ0NvbnRlbnRzID0gZXNjYXBlKGA8ZGl2IGNsYXNzPVwidHRhbS1idXR0b24tbG9hZGluZy13cmFwcGVyXCI+PGRpdiBjbGFzcz1cInR0YW0tYnV0dG9uLWxvYWRpbmdcIj48L2Rpdj48L2Rpdj4ke3RleHR9YCk7XG4gICAgICAgICAgICAgICAgICAgICR0aGVCdXR0b24uaHRtbChsb2FkaW5nQ29udGVudHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHRoZUJ1dHRvbi5maW5kKCcudHRhbS1idXR0b24tbG9hZGluZycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkaW5nQ29udGVudHMgPSBlc2NhcGUoJzxkaXYgY2xhc3M9XCJ0dGFtLWJ1dHRvbi1sb2FkaW5nLXdyYXBwZXJcIj48ZGl2IGNsYXNzPVwidHRhbS1idXR0b24tbG9hZGluZ1wiPjwvZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAkdGhlQnV0dG9uLnByZXBlbmQobG9hZGluZ0NvbnRlbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgYm94OiAoJGVsLCB0ZXh0LCBzdHlsZSwgcG9zaXRpb24pID0+IHtcbiAgICAgICAgaWYgKCEkZWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gZWxlbWVudCBwYXNzZWQgaW4nKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0ID0gdGV4dCB8fCAnJztcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA/IGBtb2QtYm94LSR7cG9zaXRpb259YCA6ICcnO1xuXG4gICAgICAgICRlbC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3R0YW0tbG9hZGluZy1ib3ggdHRhbS1sb2FkaW5nc3RhdGUnKTtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmZpbmQoJy50dGFtLWxvYWRpbmctYm94LXdyYXBwZXInKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2FkaW5nQ29udGVudHMgPSBlc2NhcGUoYDxkaXYgY2xhc3M9XCJ0dGFtLWxvYWRpbmctYm94LXdyYXBwZXIgJHtwb3NpdGlvbn1cIj48ZGl2IGNsYXNzPVwidHRhbS1ib3gtbG9hZGluZ1wiPjwvZGl2PjxzcGFuPiR7dGV4dH08L3NwYW4+PC9kaXY+YCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoYG1vZC1sb2FkaW5nLSR7c3R5bGV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRlbC5wcmVwZW5kKGxvYWRpbmdDb250ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHBpbGw6ICgkZWwsIHRleHQsIHN0eWxlKSA9PiB7XG4gICAgICAgIGlmICghJGVsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGVsZW1lbnQgcGFzc2VkIGluJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIHRleHQgcGFzc2VkIGluJyk7XG4gICAgICAgIH1cblxuICAgICAgICAkZWwuYWRkQ2xhc3MoJ3R0YW0tbG9hZGluZy1waWxsIHR0YW0tbG9hZGluZ3N0YXRlJyk7XG4gICAgICAgIGlmICgkZWwuZmluZCgnLnR0YW0tbG9hZGluZy1waWxsLXdyYXBwZXInKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRpbmdDb250ZW50cyA9IGVzY2FwZShgPGRpdiBjbGFzcz1cInR0YW0tbG9hZGluZy1waWxsLXdyYXBwZXJcIj48ZGl2IGNsYXNzPVwidHRhbS1sb2FkaW5nLXBpbGwtc2hhcGVcIj48ZGl2IGNsYXNzPVwidHRhbS1waWxsLWxvYWRpbmdcIj48L2Rpdj48c3Bhbj4ke3RleHR9PC9zcGFuPjwvZGl2PjwvZGl2PmApO1xuICAgICAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgJGVsLmFkZENsYXNzKGBtb2QtbG9hZGluZy0ke3N0eWxlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJGVsLnByZXBlbmQobG9hZGluZ0NvbnRlbnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHNrZWxldG9uOiAoJGVsKSA9PiB7XG4gICAgICAgIGlmICghJGVsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGVsZW1lbnQgcGFzc2VkIGluJyk7XG4gICAgICAgIH1cblxuICAgICAgICAkZWwuYWRkQ2xhc3MoJ3R0YW0tbG9hZGluZy1za2VsZXRvbiB0dGFtLWxvYWRpbmdzdGF0ZScpO1xuICAgICAgICBpZiAoJGVsLmZpbmQoJy50dGFtLWxvYWRpbmctc2tlbGV0b24td3JhcHBlcicpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudHMgPSAnPGRpdiBjbGFzcz1cInR0YW0tbG9hZGluZy1za2VsZXRvbi13cmFwcGVyXCI+PC9kaXY+JztcbiAgICAgICAgICAgIHJldHVybiAkZWwucHJlcGVuZChjb250ZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbn07XG4iXX0=